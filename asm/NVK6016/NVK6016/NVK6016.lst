
                    Nyquest Technology Co., Ltd.

NYASM 2.25 [Build 200410.00]  File=C:\Users\Administrator\Desktop\案子\加湿器4款\NVK6016\NVK6016\main.asm Date=2020/5/11 17:53:04

    ADDR  OPCODE/VALUE              LINE   TAG  SOURCE                   STATEMENT    

                                    0-0001      ; =========================================================================      
                                    0-0002      ; Project:       
                                    0-0003      ; File:          main.asm
                                    0-0004      ; Description:   
                                    0-0005      ;                 
                                    0-0006      ; Author:        
                                    0-0007      ; Version:       
                                    0-0008      ; Date:         
                                    0-0009      ; =========================================================================
                                    0-0010      ;--------------- File Include ---------------------------------------------
                                    0-0011      ;--------------------------------------------------------------------------
                                    0-0012      #include		NY8A051D.H						; The Header File for NY8A051D
                                    1-0001      ;=======================================================================================================================
                                    1-0002      ;=======================================================================================================================
                                    1-0003      ;File:			NY8A051D.h
                                    1-0004      ;Description:	The Header File for NY8A051D
                                    1-0005      ;Author:		JasonLee
                                    1-0006      ;Date:			2017/11/02
                                    1-0007      ;=======================================================================================================================
                                    1-0008      ;=======================================================================================================================
                                    1-0009      ;-----------------------------------------------------------------------------------------------------------------------
                                    1-0010      ;MOVR and MOVAR instrutions for access R-page Register (General Purpose Register)
                                    1-0011      ;-----------------------------------------------------------------------------------------------------------------------
                                    1-0012      ;R-page sregisters				;	bit7	|	bit6	|	bit5	|	bit4	|	bit3	|	bit2	|	bit1	|	bit0
                                    1-0013      ;-----------------------------------------------------------------------------------------------------------------------	
                                    1-0014      ; 00H --------- Indirect Addressing Register
                  0                 1-  15      INDF				EQU		00H
                  0                 1-  16      Pr_Indir_Addr		EQU		00H
                                    1-0017      ; 01H --------- Timer0 Data Register	
                  1                 1-  18      TMR0				EQU		01H
                  1                 1-  19      Pr_TMR0_Data		EQU		01H
                                    1-0020      ; 02H --------- Low Byte of Program Counter
                  2                 1-  21      PCL					EQU		02H
                  2                 1-  22      Pr_PCLow_Data		EQU		02H
                                    1-0023      ; 03H --------- Status Register
                  3                 1-  24      STATUS				EQU		03H
                  3                 1-  25      Pr_Status			EQU		03H	;	-			-			-			/WDT_TO		/Sleep		Z			Half_C		C	
                                    1-0026      ; 04H --------- File Selection Register (Include SRAM Bank Select)
                  4                 1-  27      FSR					EQU		04H
                  4                 1-  28      Pr_File_Sel			EQU		04H	;	BK[1]		BK[0]		FSR[5]		FSR[4]		FSR[3]		FSR[2]		FSR[1]		FSR[0]	         
                                    1-0029      ; 05H --------- Reserved
                                    1-0030      ; 06H --------- PortB Data Register
                  6                 1-  31      PORTB				EQU		06H
                  6                 1-  32      Pr_PB_Data			EQU		06H
                                    1-0033      ; 07H --------- Reserved
                                    1-0034      ; 08H --------- Power Control Register (WatchDog, ExtINT and LVR Control)
                  8                 1-  35      PCON				EQU		08H
                  8                 1-  36      Pr_PWR_Ctrl			EQU		08H	;	WDTEn		ExtINTEn	-			-			LVREn		-			-			-	
                                    1-0037      ; 09H --------- PortB Wakeup Control Register
                  9                 1-  38      BWUCON				EQU		09H
                  9                 1-  39      Pr_PB_WakeUp_Ctrl	EQU		09H	;	-			-			PB[5]		PB[4]		PB[3]		PB[2]		PB[1]		PB[0]
                                    1-0040      ; 0AH --------- High Byte of Program Counter (B'xxxxxxDD')
                  A                 1-  41      PCHBUF				EQU		0AH
                  A                 1-  42      Pr_PCHigh_Data		EQU		0AH
                                    1-0043      ; 0BH --------- PortB Pull-Low Control Register
                  B                 1-  44      BPLCON				EQU		0BH
                  B                 1-  45      Pr_PB_PL_Ctrl		EQU		0BH	;	/PB[3]		/PB[2]		/PB[1]		/PB[0]		-			-			-			-				
                                    1-0046      ; 0CH --------- PortB Pull-High Control Register
                  C                 1-  47      BPHCON				EQU		0CH
                  C                 1-  48      Pr_PB_PH_Ctrl		EQU		0CH	;	-			-			/PB[5]		/PB[4]		-		    /PB[2]		/PB[1]		/PB[0]	
                                    1-0049      ; 0DH --------- Reserved
                                    1-0050      ; 0EH --------- Interrupt Enable Register
                  E                 1-  51      INTE				EQU		0EH
                  E                 1-  52      Pr_INT_Ctrl			EQU		0EH	;	-			WDT			-			-			TMR1		ExtINT		PBKey		TMR0	
                                    1-0053      ; 0FH --------- Interrupt Flag	(Write '0' to Clear Flag)
                  F                 1-  54      INTF				EQU		0FH
                  F                 1-  55      Pr_INT_Flag			EQU		0FH	;	-			WDT			-			-			TMR1		ExtINT		PBKey		TMR0	
                                    1-0056      
                                    1-0057      ;-----------------------------------------------------------------------------------------------------------------------
                                    1-0058      ;T0MD and T0MDR instrutions for access T0MD Register
                                    1-0059      ;-----------------------------------------------------------------------------------------------------------------------
                                    1-0060      ; xxH --------- Timer0 Control Register (Only Accessed by Instruction T0MD)
                                    1-0061      ;T0MD				EQU		xxH	;	LClkSrc		INTEdge		ClkSel		EdgeSel		PS0WDT		PS0Div[2]	PS0Div[1]	PS0Div[0]	
                                    1-0062      ;P_TMR0_Ctrl
                                    1-0063      
                                    1-0064      ;-----------------------------------------------------------------------------------------------------------------------
                                    1-0065      ;IOST and IOSTR instrution for access F-page Register (IO Configuration Register)
                                    1-0066      ;-----------------------------------------------------------------------------------------------------------------------
                                    1-0067      ;F-page registers				;	bit7	|	bit6	|	bit5	|	bit4	|	bit3	|	bit2	|	bit1	|	bit0
                                    1-0068      ;-----------------------------------------------------------------------------------------------------------------------	
                                    1-0069      ; 05H --------- Reserved
                                    1-0070      ; 06H --------- PortB Direction(1:Input/0:Output) Control Register
                  6                 1-  71      IOSTB				EQU		06H
                  6                 1-  72      Pf_PB_Dir_Ctrl		EQU		06H
                                    1-0073      ; 0AH --------- Prescaler0 Counter Value Register
                  A                 1-  74      PS0CV				EQU		0AH
                  A                 1-  75      Pf_PS0_Cnt			EQU		0AH
                                    1-0076      ; 0CH --------- PortB Open-Drain Control Register
                  C                 1-  77      BODCON				EQU		0CH
                  C                 1-  78      Pf_PB_OD_Ctrl		EQU		0CH	;	-			-			PB[5]		PB[4]		-  			PB[2]		PB[1]		PB[0]		
                                    1-0079      ; 0FH --------- Power Control Register 1
                  F                 1-  80      PCON1				EQU		0FH
                  F                 1-  81      Pf_PWR_Ctrl1		EQU		0FH	;	INTEn		-			-			-			-			-			-			TMR0En	
                                    1-0082      
                                    1-0083      ;-----------------------------------------------------------------------------------------------------------------------
                                    1-0084      ;SFUN and SFUNR instrution for access S-page Register (Special Function Register)
                                    1-0085      ;-----------------------------------------------------------------------------------------------------------------------
                                    1-0086      ;S-page registers				;	bit7	|	bit6	|	bit5	|	bit4	|	bit3	|	bit2	|	bit1	|	bit0
                                    1-0087      ;-----------------------------------------------------------------------------------------------------------------------											
                                    1-0088      ; 00H --------- Timer1 Data Register	
                  0                 1-  89      TMR1				EQU		00H
                  0                 1-  90      Ps_TMR1_Data		EQU		00H
                                    1-0091      ; 01H --------- Timer1 Control Register	1
                  1                 1-  92      T1CR1				EQU		01H
                  1                 1-  93      Ps_TMR1_Ctrl1		EQU		01H	;	PWM1En		PWM1ActB	-			-			-			OneShot		Reload		TMR1En	
                                    1-0094      ; 02H --------- Timer1 Control Register	2
                  2                 1-  95      T1CR2				EQU		02H
                  2                 1-  96      Ps_TMR1_Ctrl2		EQU		02H	;	-			-			ClkSel		EdgeSel		/PS1En		PS1Div[2]	PS1Div[1]	PS1Div[0]	
                                    1-0097      ; 03H --------- PWM1 Duty Register
                  3                 1-  98      PWM1DUTY			EQU		03H
                  3                 1-  99      Ps_PWM1_Duty		EQU		03H
                                    1-0100      ; 04H --------- Prescaler1 Counter Value Register
                  4                 1- 101      PS1CV				EQU		04H
                  4                 1- 102      Ps_PS1_Cnt			EQU		04H
                                    1-0103      ; 05H --------- Buzzer1 Control Register
                  5                 1- 104      BZ1CR				EQU		05H
                  5                 1- 105      Ps_BZ1_Ctrl			EQU		05H	;	BZ1En		-			-			-			FSel[3]		FSel[2]		FSel[1]		FSel[0]	
                                    1-0106      ; 06H --------- IR Control Register
                  6                 1- 107      IRCR				EQU		06H
                  6                 1- 108      Ps_IR_Ctrl			EQU		06H	;	-		    -			-			-			-			PolSel  	IRF57K		IREn	
                                    1-0109      ; 07H --------- Table Access High Byte Address Pointer Register
                  7                 1- 110      TBHP				EQU		07H
                  7                 1- 111      Ps_TbHigh_Addr		EQU		07H	;	-			-			-			-		    -		    HPoint[2]	HPoint[1]	HPoint[0]	
                                    1-0112      ; 08H --------- Table Access High Byte Data Register
                  8                 1- 113      TBHD				EQU		08H
                  8                 1- 114      Ps_TbHigh_Data		EQU		08H	;	-			-			HData[5]	HData[4]	HData[3]	HData[2]	HData[1]	HData[0]	
                                    1-0115      ; 0FH --------- Oscillation Control Register (Include Switch Working Mode)
                  F                 1- 116      OSCCR				EQU		0FH
                  F                 1- 117      Ps_SYS_Ctrl			EQU		0FH	;	-			-			-			-			Mode[1]		Mode[0]		HOSC_Stop	HOSC_Sel
                                    1-0118      
                                    1-0119      ;=======================================================================================================================
                                    1-0120      ;=======================================================================================================================
                                    1-0121      ;-----------------------------------------------------------------------------------------------------------------------
                                    1-0122      ; R-page Special Function Register (General Purpose Register)
                                    1-0123      ;-----------------------------------------------------------------------------------------------------------------------
                                    1-0124      ;------------------------------------------------------------
                                    1-0125      ; Pr_Indir_Addr (00H)	--------- Indirect Addressing Register
                                    1-0126      ;------------------------------------------------------------
                                    1-0127      ;Bit[7:0] : Indirect Address
                 FF                 1- 128      	C_Indir_Addr		EQU		FFH
                                    1-0129      
                                    1-0130      ;------------------------------------------------------------
                                    1-0131      ; Pr_TMR0_Data (01H)	--------- Timer0 Data Register	
                                    1-0132      ;------------------------------------------------------------
                                    1-0133      ;Bit[7:0] : Timer0 Data
                 FF                 1- 134      	C_TMR0_Data			EQU		FFH
                                    1-0135      
                                    1-0136      ;------------------------------------------------------------
                                    1-0137      ; Pr_PCLow_Data (02H)	--------- Low Byte of Program Counter
                                    1-0138      ;------------------------------------------------------------
                                    1-0139      ;Bit[7:0] : Low Byte of Program Counter
                 FF                 1- 140      	C_PCLow_Data		EQU		FFH
                                    1-0141      
                                    1-0142      ;------------------------------------------------------------
                                    1-0143      ; Pr_Status (03H)		--------- Status Register
                                    1-0144      ;------------------------------------------------------------
                                    1-0145      ;Bit[7:5] : Reserved
                                    1-0146      ;Bit[4:0] : System Status
                 10                 1- 147      	C_Status_WDT		EQU		10H			; WatchDog Overflow Flag
                  8                 1- 148      	C_Status_Slp		EQU		08H			; Sleep (Power Down) Flag
                  4                 1- 149      	C_Status_Z			EQU		04H			; Zero Flag
                  2                 1- 150      	C_Status_HalfC		EQU		02H			; Half Carry/Half Borrow Flag
                  1                 1- 151      	C_Status_C			EQU		01H			; Carry/Borrow Flag
                                    1-0152      	
                  4                 1- 153      	C_Status_WDT_Bit	EQU		4
                  3                 1- 154      	C_Status_Slp_Bit	EQU		3
                  2                 1- 155      	C_Status_Z_Bit		EQU		2
                  1                 1- 156      	C_Status_HalfC_Bit	EQU		1
                  0                 1- 157      	C_Status_C_Bit		EQU		0
                                    1-0158      
                                    1-0159      ;------------------------------------------------------------ 
                                    1-0160      ; Pr_File_Sel (04H)		--------- File Selection Register (Include SRAM Bank Select)        
                                    1-0161      ;------------------------------------------------------------
                                    1-0162      ;Bit[7:6] : FSR Bit Define	
                 C0                 1- 163      	C_SFR_Bank			EQU		C0H			; Select Ram Bank
                  0                 1- 164      	C_SFR_Bank0			EQU		00H			; Select Ram Bank0
                 40                 1- 165      	C_SFR_Bank1			EQU		40H			; Select Ram Bank1
                 80                 1- 166      	C_SFR_Bank2			EQU		80H			; Select Ram Bank2
                 C0                 1- 167      	C_SFR_Bank3			EQU		C0H			; Select Ram Bank3	
                                    1-0168      ;Bit[5:0] : Select one Register out of 64 registers of specific Bank.
                 3F                 1- 169      	C_SFR_RAM_Addr		EQU		3FH			; RAM Address Bit[5:0] 
                                    1-0170      
                                    1-0171      ;------------------------------------------------------------
                                    1-0172      ; Pr_PB_Data (06H)		--------- PortB Data Register
                                    1-0173      ;------------------------------------------------------------
                                    1-0174      ;Bit[7:6] : Reserved
                                    1-0175      ;Bit[5:0] : PORTB Data Bit Define	
                 3F                 1- 176      	C_PB_Data			EQU		3FH			; PB Data
                 20                 1- 177      	C_PB5_Data			EQU		20H			; PB5 Data
                 10                 1- 178      	C_PB4_Data			EQU		10H			; PB4 Data
                  8                 1- 179      	C_PB3_Data			EQU		08H			; PB3 Data
                  4                 1- 180      	C_PB2_Data			EQU		04H			; PB2 Data
                  2                 1- 181      	C_PB1_Data			EQU		02H			; PB1 Data
                  1                 1- 182      	C_PB0_Data			EQU		01H			; PB0 Data
                                    1-0183      
                                    1-0184      ;------------------------------------------------------------	
                                    1-0185      ; Pr_PWR_Ctrl (08H)		--------- Power Control Register (WatchDog, ExtINT and LVR Control) 
                                    1-0186      ;------------------------------------------------------------
                                    1-0187      ;Bit[7] : WatchDog Eanble
                 80                 1- 188      	C_WDT_En			EQU		80H			; WatchDog Enable
                                    1-0189      ;Bit[6] : External INT Eanble
                 40                 1- 190      	C_ExtINT_En			EQU		40H			; External INT Enable
                                    1-0191      ;Bit[5:4] : Reserved
                                    1-0192      ;Bit[3] : LVR Enable
                  8                 1- 193      	C_LVR_En			EQU		08H			; LVR Enable
                                    1-0194      ;Bit[2:0] : Reserved
                                    1-0195      	
                                    1-0196      ;------------------------------------------------------------	
                                    1-0197      ; Pr_PB_WakeUp_Ctrl (09H)	--------- PortB Wakeup Control Register
                                    1-0198      ;------------------------------------------------------------
                                    1-0199      ;Bit[7:6] : Reserved
                                    1-0200      ;Bit[5:0] : BWUCON Bit Define
                 3F                 1- 201      	C_PB_Wakeup			EQU		3FH			; PortB Wakeup Enable
                 20                 1- 202      	C_PB5_Wakeup		EQU		20H			; PB5 Wakeup Enable
                 10                 1- 203      	C_PB4_Wakeup		EQU		10H			; PB4 Wakeup Enable
                  8                 1- 204      	C_PB3_Wakeup		EQU		08H			; PB3 Wakeup Enable
                  4                 1- 205      	C_PB2_Wakeup		EQU		04H			; PB2 Wakeup Enable 
                  2                 1- 206      	C_PB1_Wakeup		EQU		02H			; PB1 Wakeup Enable
                  1                 1- 207      	C_PB0_Wakeup		EQU		01H			; PB0 Wakeup Enable
                                    1-0208      		
                                    1-0209      ;------------------------------------------------------------	
                                    1-0210      ; Pr_PCHigh_Data (0AH) --------- High Byte of Program Counter
                                    1-0211      ;------------------------------------------------------------
                                    1-0212      ;Bit[7:2] : Reserved
                                    1-0213      ;Bit[1:0] : High Byte of Program Counter
                  3                 1- 214      	C_PCHigh_Data		EQU		03H
                                    1-0215      		
                                    1-0216      ;------------------------------------------------------------		
                                    1-0217      ; Pr_PB_PL_Ctrl (0BH)	--------- PortB Pull-Low Control Register
                                    1-0218      ;------------------------------------------------------------
                                    1-0219      ;Bit[7:4] : PortB Pull-Low Control Register (1:Disable, 0:Pull-High)
                 F0                 1- 220          C_PB_PLB			EQU		F0H			; PortB Pull-Low Control bit
                 80                 1- 221          C_PB3_PLB			EQU		80H			; PB3 Pull-Low Control bit
                 40                 1- 222          C_PB2_PLB			EQU		40H			; PB2 Pull-Low Control bit	
                 20                 1- 223          C_PB1_PLB			EQU		20H			; PB1 Pull-Low Control bit 	
                 10                 1- 224          C_PB0_PLB			EQU		10H			; PB0 Pull-Low Control bit
                                    1-0225      ;Bit[3:0] : Reserved
                                    1-0226      
                                    1-0227      ;------------------------------------------------------------	
                                    1-0228      ; Pr_PB_PH_Ctrl (0CH)	--------- PortB Pull-High Control Register
                                    1-0229      ;------------------------------------------------------------
                                    1-0230      ;Bit[7:6] : Reserved
                                    1-0231      ;Bit[5:4]&Bit[2:0] : PortB Pull-High Control Register (1:Disable, 0:Pull-High)
                                    1-0232      ;Bit[3] : Reserved
                 37                 1- 233      	C_PB_PHB			EQU		37H			; PortB Pull-Low Control bit  
                 20                 1- 234      	C_PB5_PHB			EQU		20H			; PB5 Pull-Low Control bit
                 10                 1- 235      	C_PB4_PHB			EQU		10H			; PB4 Pull-Low Control bit
                  4                 1- 236      	C_PB2_PHB			EQU		04H			; PB2 Pull-Low Control bit
                  2                 1- 237      	C_PB1_PHB			EQU		02H			; PB1 Pull-Low Control bit
                  1                 1- 238      	C_PB0_PHB			EQU		01H			; PB0 Pull-Low Control bit
                                    1-0239      
                                    1-0240      ;------------------------------------------------------------	
                                    1-0241      ; Pr_INT_Ctrl (0EH)		--------- Interrupt Enable Register
                                    1-0242      ; Pr_INT_Flag (0FH)		--------- Interrupt Flag
                                    1-0243      ;------------------------------------------------------------
                                    1-0244      ;Bit[7] : Reserved
                                    1-0245      ;Bit[6] : WatchDog Flag
                 40                 1- 246      	C_INT_WDT			EQU		40H			; WDT timeout interrupt enable bit
                  6                 1- 247      	C_INT_WDT_Bit		EQU		6
                                    1-0248      
                                    1-0249      ;Bit[5:4] : Reserved
                                    1-0250      ;Bit[3:0] : Interrupt Source
                  8                 1- 251      	C_INT_TMR1			EQU		08H			; Timer1 underflow interrupt enable bit
                  4                 1- 252      	C_INT_EXT			EQU		04H			; External interrupt enable bit
                  2                 1- 253      	C_INT_PBKey			EQU		02H			; PortB input change interrupt enable bit
                  1                 1- 254      	C_INT_TMR0			EQU		01H			; Timer0 overflow interrupt enable bit 
                                    1-0255      
                  3                 1- 256      	C_INT_TMR1_Bit		EQU		3
                  2                 1- 257      	C_INT_EXT_Bit		EQU		2
                  1                 1- 258      	C_INT_PBKey_Bit		EQU		1
                  0                 1- 259      	C_INT_TMR0_Bit		EQU		0
                                    1-0260      
                                    1-0261      ;------------------------------------------------------------	
                                    1-0262      ; P_TMR0_Ctrl (xxH)		--------- T0MD Register
                                    1-0263      ;------------------------------------------------------------
                                    1-0264      ;		C_TMR0_Clk		C_TMR0_LowClk	|	Timer 0 Clock Source
                                    1-0265      ;------------------------------------------------------------
                                    1-0266      ;		0				x				|	From Instruction Clock
                                    1-0267      ;		1				0				|	From External Pin
                                    1-0268      ;		1				1				|	From Low Oscillator Frequency (I_LRC or E_LXT)
                                    1-0269      ;------------------------------------------------------------
                                    1-0270      ;Bit[7:4] : Timer0 Clock Source Selection
                 80                 1- 271      	C_TMR0_LowClk		EQU		80H			; Same as LCKTM0
                 40                 1- 272      	C_EXINT_Edge		EQU		40H			; External INT Edge Select --- 1:Rising Edge, 0:Falling Edge
                 20                 1- 273      	C_TMR0_Clk			EQU		20H			; Same as T0CS
                 10                 1- 274      	C_TMR0_ExtClk_Edge	EQU		10H			; Timer0 External Clock Edge Select --- 1:Falling Edge, 0:Rising Edge
                                    1-0275      
                                    1-0276      ;Bit[3] : Watchdog Interrupt Source Selection / Timer0 Prescaler0 Selection
                  8                 1- 277      	C_PS0_WDT			EQU		08H			; Prescaler0 is assigned to WDT
                  0                 1- 278      	C_PS0_TMR0			EQU		00H			; Prescaler0 is assigned to TMR0
                                    1-0279      ;Bit[2:0] : Prescaler0 Dividing Rate Selection
                  7                 1- 280      	C_PS0_Div			EQU		07H			; Prescaler0 Dividing Rate Selection
                  0                 1- 281      	C_PS0_Div2			EQU		00H
                  1                 1- 282      	C_PS0_Div4			EQU		01H
                  2                 1- 283      	C_PS0_Div8			EQU		02H
                  3                 1- 284      	C_PS0_Div16			EQU		03H
                  4                 1- 285      	C_PS0_Div32			EQU		04H
                  5                 1- 286      	C_PS0_Div64			EQU		05H
                  6                 1- 287      	C_PS0_Div128		EQU		06H
                  7                 1- 288      	C_PS0_Div256		EQU		07H
                                    1-0289      
                                    1-0290      ;=======================================================================================================================
                                    1-0291      ;=======================================================================================================================
                                    1-0292      ;-----------------------------------------------------------------------------------------------------------------------
                                    1-0293      ; F-page Special Function Register (IO Configuration Register)
                                    1-0294      ;-----------------------------------------------------------------------------------------------------------------------	
                                    1-0295      ;------------------------------------------------------------	
                                    1-0296      ; Pf_PB_Dir_Ctrl (06H)	--------- PortB Direction(Input/Output) Control Register
                                    1-0297      ;------------------------------------------------------------
                                    1-0298      ;Bit[7:6] : Reserved
                                    1-0299      ;Bit[5:0] : Port B Input/Output Mode Selection (1:Input, 0:Output)
                 3F                 1- 300      	C_PB_Input			EQU		3FH			; Port B Input Mode Control
                  0                 1- 301      	C_PB_Output			EQU		00H			; Port B Output Mode Control
                                    1-0302      
                 20                 1- 303      	C_PB5_Input			EQU		20H			; PB5 I/O mode Control bit
                 10                 1- 304      	C_PB4_Input			EQU		10H			; PB4 I/O mode Control bit
                  8                 1- 305      	C_PB3_Input			EQU		08H			; PB3 I/O mode Control bit
                  4                 1- 306      	C_PB2_Input			EQU		04H			; PB2 I/O mode Control bit
                  2                 1- 307      	C_PB1_Input			EQU		02H			; PB1 I/O mode Control bit
                  1                 1- 308      	C_PB0_Input			EQU		01H			; PB0 I/O mode Control bit
                  0                 1- 309      	C_PB5_Output		EQU		00H			; PB5 I/O mode Control bit
                  0                 1- 310      	C_PB4_Output		EQU		00H			; PB4 I/O mode Control bit
                  0                 1- 311      	C_PB3_Output		EQU		00H			; PB3 I/O mode Control bit
                  0                 1- 312      	C_PB2_Output		EQU		00H			; PB2 I/O mode Control bit
                  0                 1- 313      	C_PB1_Output		EQU		00H			; PB1 I/O mode Control bit
                  0                 1- 314      	C_PB0_Output		EQU		00H			; PB0 I/O mode Control bit
                                    1-0315      
                                    1-0316      ;------------------------------------------------------------	
                                    1-0317      ; Pf_PS0_Cnt (0AH)		--------- Prescaler0 Counter Value Register
                                    1-0318      ;------------------------------------------------------------
                                    1-0319      ;Bit[7:0] : Prescaler0 Counter Value
                                    1-0320      ;	C_PS0_Cnt			EQU		FFH			; 8-Bit register	
                                    1-0321      	
                                    1-0322      ;------------------------------------------------------------	
                                    1-0323      ; Pf_PB_OD_Ctrl (0CH)	--------- PortB Open-Drain Control Register
                                    1-0324      ;------------------------------------------------------------
                                    1-0325      ;Bit[7:6]&Bit[3]: Reserved
                                    1-0326      ;Bit[5:4]&Bit[2:0] : PortB Open-Drain Control (1:Open-Drain, 0:Disable)
                 37                 1- 327      	C_PB_OD				EQU		37H			; Port B Open-Drain Control
                 20                 1- 328      	C_PB5_OD			EQU		20H			; PB5 Open-Drain Control bit
                 10                 1- 329      	C_PB4_OD			EQU		10H			; PB4 Open-Drain Control bit
                  4                 1- 330      	C_PB2_OD			EQU		04H			; PB2 Open-Drain Control bit
                  2                 1- 331      	C_PB1_OD			EQU		02H			; PB1 Open-Drain Control bit 
                  1                 1- 332      	C_PB0_OD			EQU		01H			; PB0 Open-Drain Control bit
                                    1-0333      
                                    1-0334      ;------------------------------------------------------------	
                                    1-0335      ; Pf_PWR_Ctrl1 (0FH)	--------- Power Control Register 1
                                    1-0336      ;------------------------------------------------------------
                                    1-0337      ;Bit[7] : All Interrupt Enable
                 80                 1- 338      	C_All_INT_En		EQU		80H			; Enable all unmasked interrupts
                                    1-0339      ;Bit[6:1] : Reserved
                                    1-0340      ;Bit[0] : Timer0 Enable
                  1                 1- 341      	C_TMR0_En			EQU		01H			; Enable Timer0
                  0                 1- 342      	C_TMR0_Dis			EQU		00H			; Disable Timer0
                                    1-0343      		
                                    1-0344      ;=======================================================================================================================
                                    1-0345      ;=======================================================================================================================
                                    1-0346      ;-----------------------------------------------------------------------------------------------------------------------
                                    1-0347      ; S-page Special Function Register (Special Function Register)
                                    1-0348      ;-----------------------------------------------------------------------------------------------------------------------		
                                    1-0349      ;------------------------------------------------------------
                                    1-0350      ; Ps_TMR1_Data (00H)	--------- Timer1 Data Register
                                    1-0351      ;------------------------------------------------------------
                                    1-0352      ;Bit[7:0] : Timer1 Data
                 FF                 1- 353      	C_TMR1_Data			EQU		FFH	
                                    1-0354      	
                                    1-0355      ;------------------------------------------------------------	
                                    1-0356      ; Ps_TMR1_Ctrl1 (01H)	--------- Timer1 Control Register 1
                                    1-0357      ;------------------------------------------------------------
                                    1-0358      ;Bit[7:6] : PWM1 Control
                 80                 1- 359      	C_PWM1_En			EQU		80H 		; PWM1 output will be present on PB6
                 40                 1- 360      	C_PWM1_Active		EQU		40H 		; PWM1 output is active
                 40                 1- 361      	C_PWM1_Active_Lo	EQU		40H 		; PWM1 output is active low 
                  0                 1- 362      	C_PWM1_Active_Hi	EQU		00H 		; PWM1 output is active high 
                                    1-0363      ;Bit[5:3] : Reserved
                                    1-0364      ;Bit[2:0] : Timer1 Control
                  4                 1- 365      	C_TMR1_OneShot		EQU		04H 		; One-Shot mode. Timer1 will count once from the initial value to 0x00
                  2                 1- 366      	C_TMR1_Reload		EQU		02H 		; Initial value is reloaded from reload register TMR1(T1OS=0)
                                    1-0367      
                  1                 1- 368      	C_TMR1_En			EQU		01H 		; Enable Timer1
                  0                 1- 369      	C_TMR1_Dis			EQU		00H 		; Disable Timer1
                                    1-0370      
                                    1-0371      ;------------------------------------------------------------	
                                    1-0372      ; Ps_TMR1_Ctrl2 (02H)	--------- Timer1 Control Register	2
                                    1-0373      ;------------------------------------------------------------
                                    1-0374      ;Bit[7:6] : Reserved
                                    1-0375      ;Bit[5] : Timer1 Clock Source Select
                 20                 1- 376      	C_TMR1_ClkSrc_Ext	EQU		20H			; Timer1 clock source from External Clock Input
                  0                 1- 377      	C_TMR1_ClkSrc_Inst	EQU		00H			; Timer1 clock source from Internal Instruction Clock
                                    1-0378      
                                    1-0379      	
                                    1-0380      ;Bit[4] : Timer1 external clock edge selection
                 10                 1- 381          C_TMR1_ExtClk_Edge	EQU		10H			; Timer1 External Clock Edge Select --- 1:Falling Edge, 0:Rising Edge  
                 10                 1- 382      	C_TMR1_ExtFalling	EQU		10H			; Timer1 will decrease one while EX_CKI Falling Edge.
                  0                 1- 383      	C_TMR1_ExtRising	EQU		00H			; Timer1 will decrease one while EX_CKI Rising Edge.
                                    1-0384      ;Bit[3] :  Disable/enable Prescaler1
                  8                 1- 385          C_PS1_Dis           EQU		08H			; Enable Prescaler1
                  0                 1- 386      	C_PS1_EN			EQU		00H			; Disable Prescaler1
                                    1-0387      ;Bit[2:0] : Prescaler 1 Dividing Rate Selection
                  7                 1- 388      	C_PS1_Div			EQU		07H			; Prescaler1 Dividing Rate Selection
                  0                 1- 389      	C_PS1_Div2			EQU		00H
                  1                 1- 390      	C_PS1_Div4			EQU		01H
                  2                 1- 391      	C_PS1_Div8			EQU		02H
                  3                 1- 392      	C_PS1_Div16			EQU		03H
                  4                 1- 393      	C_PS1_Div32			EQU		04H
                  5                 1- 394      	C_PS1_Div64			EQU		05H
                  6                 1- 395      	C_PS1_Div128		EQU		06H
                  7                 1- 396      	C_PS1_Div256		EQU		07H
                                    1-0397      
                                    1-0398      ;------------------------------------------------------------	
                                    1-0399      ; Ps_PWM1_Duty (03H)	--------- PWM1 Duty Register
                                    1-0400      ;------------------------------------------------------------
                                    1-0401      ;Bit[7:0] : PWM1 Duty Value
                 FF                 1- 402      	C_PWM1_Duty			EQU		FFH
                                    1-0403      
                                    1-0404      ;------------------------------------------------------------	
                                    1-0405      ; Ps_PS1_Cnt (04H)		--------- Prescaler1 Counter Value Register
                                    1-0406      ;------------------------------------------------------------
                                    1-0407      ;Bit[7:0] : rescaler1 Counter Value
                                    1-0408      ;	C_PS1_Cnt			EQU		FFH			; 8-Bit register	
                                    1-0409      
                                    1-0410      ;------------------------------------------------------------	
                                    1-0411      ; Ps_BZ1_Ctrl (05H)		--------- Buzzer1 Control Register
                                    1-0412      ;------------------------------------------------------------
                                    1-0413      ;Bit[7] : BZ1 Enable
                 80                 1- 414      	C_BZ1_En			EQU		80H			; Enable BZ1 output
                                    1-0415      ;Bit[6:4] : Reserved
                                    1-0416      ;Bit[3:0] : BZ1 Frequency Selection
                  F                 1- 417      	C_BZ1_FSel			EQU		0FH			; BZ1 frequency selection
                                    1-0418      
                  0                 1- 419      	C_BZ1_PS1Div2		EQU		00H			; Clock Soruce from Prescaler 1
                  1                 1- 420      	C_BZ1_PS1Div4		EQU		01H
                  2                 1- 421      	C_BZ1_PS1Div8		EQU		02H
                  3                 1- 422      	C_BZ1_PS1Div16		EQU		03H
                  4                 1- 423      	C_BZ1_PS1Div32		EQU		04H
                  5                 1- 424      	C_BZ1_PS1Div64		EQU		05H
                  6                 1- 425      	C_BZ1_PS1Div128		EQU		06H
                  7                 1- 426      	C_BZ1_PS1Div256		EQU		07H
                                    1-0427      
                  8                 1- 428      	C_BZ1_TMR1B0		EQU		08H			; Clock Source from Timer 1
                  9                 1- 429      	C_BZ1_TMR1B1		EQU		09H
                  A                 1- 430      	C_BZ1_TMR1B2		EQU		0AH
                  B                 1- 431      	C_BZ1_TMR1B3		EQU		0BH
                  C                 1- 432      	C_BZ1_TMR1B4		EQU		0CH
                  D                 1- 433      	C_BZ1_TMR1B5		EQU		0DH
                  E                 1- 434      	C_BZ1_TMR1B6		EQU		0EH
                  F                 1- 435      	C_BZ1_TMR1B7		EQU		0FH
                                    1-0436      
                                    1-0437      ;------------------------------------------------------------	
                                    1-0438      ; Ps_IR_Ctrl (06H)		--------- IR Control Register
                                    1-0439      ;------------------------------------------------------------
                                    1-0440      ;Bit[7:3] : Reserved
                                    1-0441      ;Bit[2] : IR Polarity Selection
                  4                 1- 442      	C_IR_Pol_Sel		EQU		04H
                                    1-0443      ;Bit[1] : IR Carrier Frequency Selection (1:5.7K, 0:38KHz)
                  2                 1- 444      	C_IR_57K			EQU		02H			; IRCR[1]=1 , IR carrier frequency is 57KHz
                  0                 1- 445      	C_IR_38K			EQU		00H			; IRCR[1]=0 , IR carrier frequency is 57KHz
                                    1-0446      ;Bit[0] : IR Enable
                  1                 1- 447      	C_IR_En				EQU		01H			; Enable IR carrier output
                                    1-0448      
                                    1-0449      ;------------------------------------------------------------	
                                    1-0450      ; Ps_TbHigh_Addr (07H)	--------- Table Access High Byte Address Pointer Register
                                    1-0451      ;------------------------------------------------------------
                                    1-0452      ;Bit[7:2] : Reserved
                                    1-0453      ;Bit[1:0] : Table Access High Byte Address Pointer
                  3                 1- 454      	C_TbHigh_Addr		EQU		03H			; When instruction CALLA, GOTOA or TABLEA is executed TBHP[1:0] is PC[9:8]
                                    1-0455      
                                    1-0456      ;------------------------------------------------------------	
                                    1-0457      ; Ps_TbHigh_Data (08H)	--------- Table Access High Byte Data Register
                                    1-0458      ;------------------------------------------------------------
                                    1-0459      ;Bit[7:6] : Reserved
                                    1-0460      ;Bit[5:0] : Table Access High Byte Data
                 3F                 1- 461      	C_TbHigh_Data		EQU		3FH
                                    1-0462      
                                    1-0463      ;------------------------------------------------------------   
                                    1-0464      ; Ps_SYS_Ctrl (0FH)	--------- Table Access High Byte Data Register
                                    1-0465      ;------------------------------------------------------------
                                    1-0466      ;Bit[7:4] : Reserved
                                    1-0467      ;Bit[3:2] : System Mode Select
                  C                 1- 468      	C_Mode				EQU		0CH			; System Operating Mode Selection
                  0                 1- 469      	C_Normal_Mode		EQU		00H			; Enter Normal mode
                  4                 1- 470      	C_Halt_Mode			EQU		04H			; Enter Halt mode
                  8                 1- 471      	C_Standby_Mode		EQU		08H			; Enter Standby mode
                                    1-0472      ;Bit[1] : Stop FHOSC
                  2                 1- 473      	C_FHOSC_Stop		EQU		02H			; Disable high-frequency oscillation (FHOSC)
                                    1-0474      ;Bit[0] : FOSC Seletction
                  1                 1- 475      	C_FHOSC_Sel			EQU		01H			; OSCCR[0]=1 , FOSC is high-frequency oscillation (FHOSC)
                  0                 1- 476      	C_FLOSC_Sel			EQU		00H			; OSCCR[0]=0 , FOSC is Low-frequency oscillation (FLOSC)	
                                    1-0477      
                                    1-0478      
                                    1-0479      
                                    1-0480      ;=======================================================================================================================
                                    1-0481      ;=======================================================================================================================
                                    1-0482      ;-----------------------------------------------------------------------------------------------------------------------
                                    1-0483      ;General Constant Define
                                    1-0484      ;-----------------------------------------------------------------------------------------------------------------------
                  0                 1- 485      	C_SaveToAcc			EQU		00H	
                  1                 1- 486      	C_SaveToReg			EQU		01H	
                                    1-0487      
                  1                 1- 488      	C_Bit0				EQU		01H
                  2                 1- 489      	C_Bit1				EQU		02H
                  4                 1- 490      	C_Bit2				EQU		04H
                  8                 1- 491      	C_Bit3				EQU		08H
                 10                 1- 492      	C_Bit4				EQU		10H
                 20                 1- 493      	C_Bit5				EQU		20H
                 40                 1- 494      	C_Bit6				EQU		40H
                 80                 1- 495      	C_Bit7				EQU		80H
                                    1-0496      
                  0                 1- 497      	C_Num0				EQU		0
                  1                 1- 498      	C_Num1				EQU		1
                  2                 1- 499      	C_Num2				EQU		2
                  3                 1- 500      	C_Num3				EQU		3
                  4                 1- 501      	C_Num4				EQU		4
                  5                 1- 502      	C_Num5				EQU		5
                  6                 1- 503      	C_Num6				EQU		6
                  7                 1- 504      	C_Num7				EQU		7
                                    1-0505      	
                                    0-0013      
                                    0-0014      ;--------------- Variable Defination --------------------------------------
                                    0-0015      ;--------------------------------------------------------------------------
                                    0-0016      ;		R_Temp		EQU		0x10			; Example
                 10                 0-  17      		R_AccBuf		EQU		0x10
                 11                 0-  18              R_StatusBuf		EQU		0x11
                 12                 0-  19              R_STUTAS		EQU		0x12
                 13                 0-  20              R_DUTY_TAG		EQU		0x13
                 14                 0-  21              R_TIMING0		EQU		0x14
                 15                 0-  22              R_TIMING1		EQU		0x15
                 16                 0-  23              R_TIMING2		EQU		0x16
                 17                 0-  24              R_PWM_DUTY		EQU		0x17
                 18                 0-  25              R_SLEEP_COUNT	EQU		0x18
                 19                 0-  26              R_PWM_CT		EQU		0x19
                 1A                 0-  27              R_KEY			EQU		0x1A
                 1B                 0-  28              R_KEY_TIME		EQU		0x1B
                 1C                 0-  29              R_PWM_TMR		EQU		0x1C
                 1D                 0-  30              R_PWM_DUTY_R	EQU		0x1D
                 1E                 0-  31              R_PWM_DUTY_G	EQU		0x1E
                 1F                 0-  32              R_PWM_DUTY_B	EQU		0x1F
                 20                 0-  33              R_PWM_STATUS	EQU		0x20
                 21                 0-  34              R_PWM_STEP		EQU		0x21
                 22                 0-  35              R_LOOP_TIME		EQU		0x22
                 23                 0-  36              R_PWM_TIME		EQU		0x23
                 24                 0-  37              R_PWM_COUNT		EQU		0x24
                 25                 0-  38              R_WORK_TIME0	EQU		0x25
                 26                 0-  39              R_WORK_TIME1	EQU		0x26
                 27                 0-  40              R_WORK_TIME2	EQU		0x27
                 28                 0-  41              R_DELAY			EQU		0x28
                                    0-0042      
                                    0-0043      ;--------------- Constant Defination --------------------------------------
                                    0-0044      ;--------------------------------------------------------------------------
                                    0-0045      ;		C_Temp		EQU		0xFF			; Example
                                    0-0046      
                                    0-0047      
                                    0-0048      
                                    0-0049      ;--------------- Vector Defination ----------------------------------------
                                    0-0050      ;--------------------------------------------------------------------------
                  0                 0-  51      		ORG		0x000
        0 3850                      0-  52     		lgoto	V_Main
                                    0-0053      		
                  8                 0-  54      		ORG		0x008
                                    0-0055      ;--------------- Interrupt Service Routine --------------------------------
                                    0-0056      ;--------------------------------------------------------------------------
                  8                 0-  57      V_INT:
                                    0-0058      ;------------------------------保存ACC和Status-----------------------------
        8 0090                      0-  59     		movar	R_AccBuf
        9 1590                      0-  60     		swapr	R_AccBuf,C_SaveToReg
        A 0103                      0-  61     		movr	Pr_Status,C_SaveToAcc
        B 0091                      0-  62     		movar	R_StatusBuf
                                    0-0063      ;--------------------------------------------------------------------------
                  C                 0-  64      V_INT_TIME0:
        C 080F                      0-  65     		btrss	Pr_INT_Flag,C_INT_TMR0_Bit
        D 3827                      0-  66     		lgoto	L_RETMain
        E 219E                      0-  67     		movia	158
        F 0381                      0-  68     		addar	TMR0,C_SaveToReg
                                    0-0069      		
       10 0812                      0-  70     		btrss	R_STUTAS,0
       11 3822                      0-  71     		lgoto	L_PWM_E
                 12                 0-  72      L_RED:
       12 011C                      0-  73     		movr	R_PWM_TMR,C_SaveToAcc
       13 369D                      0-  74     		cmpar	R_PWM_DUTY_R
       14 0803                      0-  75     		btrss	Pr_Status,C_Status_C_Bit
       15 1A86                      0-  76     		bsr		portb,5
       16 0C03                      0-  77     		btrsc	Pr_Status,C_Status_C_Bit
       17 1E86                      0-  78     		bcr		portb,5
                 18                 0-  79      L_GREEN:
       18 369E                      0-  80     		cmpar	R_PWM_DUTY_G
       19 0803                      0-  81     		btrss	Pr_Status,C_Status_C_Bit
       1A 1A06                      0-  82     		bsr		portb,4
       1B 0C03                      0-  83     		btrsc	Pr_Status,C_Status_C_Bit
       1C 1E06                      0-  84     		bcr		portb,4
                 1D                 0-  85      L_BLUE:
       1D 369F                      0-  86     		cmpar	R_PWM_DUTY_B
       1E 0803                      0-  87     		btrss	Pr_Status,C_Status_C_Bit
       1F 1886                      0-  88     		bsr		portb,1
       20 0C03                      0-  89     		btrsc	Pr_Status,C_Status_C_Bit
       21 1C86                      0-  90     		bcr		portb,1
                                    0-0091      		
                 22                 0-  92      L_PWM_E:
       22 179C                      0-  93     		decrsz	R_PWM_TMR,C_SaveToReg
       23 3827                      0-  94     		lgoto	L_RETMain
       24 2164                      0-  95     		movia	100
       25 009C                      0-  96     		movar	R_PWM_TMR
       26 1892                      0-  97     		bsr		R_STUTAS,1			;100*100/4=2500US=2.5MS
                                    0-0098      ;----------------------------------------------------------------------------
                 27                 0-  99      L_RETMain:
       27 028F                      0- 100     		clrr	Pr_INT_Flag
       28 0111                      0- 101     		movr	R_StatusBuf,C_SaveToAcc
       29 0083                      0- 102     		movar	Pr_Status
       2A 1510                      0- 103     		swapr	R_AccBuf,C_SaveToAcc
       2B 0011                      0- 104     		retie
                                    0-0105      		
                                    0-0106      ;--------------- Code Start -----------------------------------------------
                                    0-0107      ;--------------------------------------------------------------------------
                 2C                 0- 108      PWM_TABLE:
       2C 0121                      0- 109     		movr	R_PWM_STEP,C_SaveToAcc
       2D 0382                      0- 110     		addar	pcl,C_SaveToReg
       2E 2000                      0- 111     		retia	00000000b				;150 7.5s				蓝白 R20 G20 B100
       2F 2002                      0- 112     		retia	00000010b				;红降 20 1s				R0 G20 B100
       30 2004                      0- 113     		retia	00000100b				;绿升 80 4s				R0 G100 B100
       31 2000                      0- 114     		retia	00000000b				;150 7.5s				蓝绿 R0 G100 B100
       32 2020                      0- 115     		retia	00100000b				;蓝降 80 4s				R0 G100 B20
       33 2001                      0- 116     		retia	00000001b				;红升 20 1s				R20 G100 B20
       34 2000                      0- 117     		retia	00000000b				;150 7.5s				绿白 R20 G100 B20
       35 2020                      0- 118     		retia	00100000b				;蓝降 20 1s				R20 G100 B0
       36 2001                      0- 119     		retia	00000001b				;红升 80 4s				R100 G100 B0
       37 2000                      0- 120     		retia	00000000b				;150 7.5s				绿红 R100 G100 B0
       38 2008                      0- 121     		retia	00001000b				;绿降 100 5s			R100 G0 B0
       39 2000                      0- 122     		retia	00000000b				;150 7.5s				红 R100 G0 B0
       3A 2010                      0- 123     		retia	00010000b				;蓝升 100 5s			R100 G0 B100
       3B 2000                      0- 124     		retia	00000000b				;150 7.5s				红蓝 R100 G0 B100
       3C 2002                      0- 125     		retia	00000010b				;红降 80 4s				R20 G0 B100
       3D 2004                      0- 126     		retia	00000100b				;绿升 20 1s				R20 G20 B100
                                    0-0127      		
                                    0-0128      		
                 3E                 0- 129      PWM_TIME_TABLE:
       3E 0121                      0- 130     		movr	R_PWM_STEP,C_SaveToAcc
       3F 0382                      0- 131     		addar	pcl,C_SaveToReg
       40 2091                      0- 132     		retia	145						;150 5s				蓝白 R20 G20 B100
       41 2014                      0- 133     		retia	20						;红降 20 1s			R0 G20 B100
       42 2050                      0- 134     		retia	80						;绿升 80 4s			R0 G100 B100
       43 2091                      0- 135     		retia	145						;150 5s				蓝绿 R0 G100 B100
       44 2050                      0- 136     		retia	80						;蓝降 80 4s			R0 G100 B20
       45 2014                      0- 137     		retia	20						;红升 20 1s			R20 G100 B20
       46 2091                      0- 138     		retia	145						;150 5s				绿白 R20 G100 B20
       47 2014                      0- 139     		retia	20						;蓝降 20 1s			R20 G100 B0
       48 2050                      0- 140     		retia	80						;红升 80 4s			R100 G100 B0
       49 2091                      0- 141     		retia	145						;150 5s				绿红 R100 G100 B0
       4A 2064                      0- 142     		retia	100						;绿降 100 5s		R100 G0 B0
       4B 2091                      0- 143     		retia	145						;150 5s				红 R100 G0 B0
       4C 2064                      0- 144     		retia	100						;蓝升 100 5s		R100 G0 B100
       4D 2091                      0- 145     		retia	145						;150 5s				红蓝 R100 G0 B100
       4E 2050                      0- 146     		retia	80						;红降 80 4s			R20 G0 B100
       4F 2014                      0- 147     		retia	20						;绿升 20 1s			R20 G20 B100
                                    0-0148      		
                 50                 0- 149      V_Main:
       50 2132                      0- 150     		movia	00110010b
       51 0086                      0- 151     		movar	portb
       52 2101                      0- 152     		movia	00000001b
       53 0006                      0- 153     		iost	iostb
       54 0089                      0- 154     		movar	BWUCON
       55 21FE                      0- 155     		movia	11111110b
       56 008C                      0- 156     		movar	BPHCON
                                    0-0157      		
       57 219E                      0- 158     		movia	158
       58 0081                      0- 159     		movar	TMR0
       59 2118                      0- 160     		movia	00011000b
       5A 0003                      0- 161     		t0md
       5B 180E                      0- 162     		bsr		INTE,C_INT_TMR0_Bit
       5C 2101                      0- 163     		movia	C_TMR0_En
       5D 000F                      0- 164     		iost	PCON1						;25US
                                    0-0165      		
       5E 2124                      0- 166     		movia	36
       5F 0020                      0- 167     		sfun	TMR1
       60 2100                      0- 168     		movia	0
       61 0023                      0- 169     		sfun	PWM1DUTY
       62 0097                      0- 170     		movar	R_PWM_DUTY
       63 2118                      0- 171     		movia	00011000b
       64 0022                      0- 172     		sfun	T1CR2
       65 2183                      0- 173     		movia	10000011b
       66 0021                      0- 174     		sfun	T1CR1
                                    0-0175      		
       67 0292                      0- 176     		clrr	R_STUTAS
       68 0293                      0- 177     		clrr	R_DUTY_TAG
       69 0298                      0- 178     		clrr	R_SLEEP_COUNT
       6A 2103                      0- 179     		movia	3
       6B 0099                      0- 180     		movar	R_PWM_CT
       6C 2101                      0- 181     		movia	1
       6D 009A                      0- 182     		movar	R_KEY
       6E 029B                      0- 183     		clrr	R_KEY_TIME
       6F 2164                      0- 184     		movia	100
       70 009C                      0- 185     		movar	R_PWM_TMR
       71 02A2                      0- 186     		clrr	R_LOOP_TIME
                                    0-0187      		
       72 0004                      0- 188     		eni
                 73                 0- 189      L_MainLoop:                                    
       73 0002                      0- 190             clrwdt
                 74                 0- 191      SLEEP_SCAN:
       74 0892                      0- 192     		btrss	R_STUTAS,1
       75 3873                      0- 193     		lgoto	L_MainLoop
       76 1C92                      0- 194     		bcr		R_STUTAS,1
                                    0-0195      		;2.5MS
                                    0-0196      		
       77 05A2                      0- 197     		incr	R_LOOP_TIME,C_SaveToReg
       78 0922                      0- 198     		btrss	R_LOOP_TIME,2
       79 3873                      0- 199     		lgoto	L_MainLoop
       7A 02A2                      0- 200     		clrr	R_LOOP_TIME					;2.5MS*4=10MS
                                    0-0201      		
       7B 0C12                      0- 202     		btrsc	R_STUTAS,0
       7C 388B                      0- 203     		lgoto	PWM_CHANGE			;亮灯中
       7D 081A                      0- 204     		btrss	R_KEY,0
       7E 388B                      0- 205     		lgoto	PWM_CHANGE			;喷雾中
       7F 0806                      0- 206     		btrss	portb,0
       80 388B                      0- 207     		lgoto	PWM_CHANGE			;按键中
                                    0-0208      		
       81 1698                      0- 209     		incrsz	R_SLEEP_COUNT,C_SaveToReg
       82 388B                      0- 210     		lgoto	PWM_CHANGE
                                    0-0211      		
       83 188E                      0- 212     		bsr		INTE,C_INT_PBKey_Bit
       84 1F88                      0- 213     		bcr		pcon,7
       85 0186                      0- 214     		movr	portb,C_SaveToReg
       86 0001                      0- 215     		sleep
       87 0000                      0- 216     		nop
       88 1B88                      0- 217     		bsr		pcon,7
       89 1C8E                      0- 218     		bcr		INTE,C_INT_PBKey_Bit
       8A 38E6                      0- 219     		lgoto	KEY_SCAN
                                    0-0220      		
                                    0-0221      		
                 8B                 0- 222      PWM_CHANGE:
       8B 1799                      0- 223     		decrsz	R_PWM_CT,C_SaveToReg
       8C 3899                      0- 224     		lgoto	BREATH
       8D 2103                      0- 225     		movia	3
       8E 0099                      0- 226     		movar	R_PWM_CT					;30MS
                                    0-0227      		
       8F 0117                      0- 228     		movr	R_PWM_DUTY,C_SaveToAcc
       90 3693                      0- 229     		cmpar	R_DUTY_TAG
       91 0D03                      0- 230     		btrsc	Pr_Status,C_Status_Z_Bit
       92 3899                      0- 231     		lgoto	BREATH
                                    0-0232      		
       93 0C03                      0- 233     		btrsc	Pr_Status,C_Status_C_Bit
       94 0597                      0- 234     		incr	R_PWM_DUTY,C_SaveToReg
       95 0803                      0- 235     		btrss	Pr_Status,C_Status_C_Bit
       96 0697                      0- 236     		decr	R_PWM_DUTY,C_SaveToReg
                                    0-0237      		
       97 0117                      0- 238     		movr	R_PWM_DUTY,C_SaveToAcc
       98 0023                      0- 239     		sfun	PWM1DUTY
                                    0-0240      		
                                    0-0241      		
                 99                 0- 242      BREATH:
       99 0812                      0- 243     		btrss	R_STUTAS,0
       9A 38B8                      0- 244     		lgoto	WORK_SCAN			;非开灯
       9B 0E12                      0- 245     		btrsc	R_STUTAS,4
       9C 38B8                      0- 246     		lgoto	WORK_SCAN			;定光中
                                    0-0247      		
       9D 17A3                      0- 248     		decrsz	R_PWM_TIME,C_SaveToReg
       9E 38B8                      0- 249     		lgoto	WORK_SCAN
       9F 2105                      0- 250     		movia	5
       A0 00A3                      0- 251     		movar	R_PWM_TIME					;10MS*5=50MS
                                    0-0252      		
       A1 0C20                      0- 253     		btrsc	R_PWM_STATUS,0
       A2 059D                      0- 254     		incr	R_PWM_DUTY_R,C_SaveToReg
       A3 0CA0                      0- 255     		btrsc	R_PWM_STATUS,1
       A4 069D                      0- 256     		decr	R_PWM_DUTY_R,C_SaveToReg
       A5 0D20                      0- 257     		btrsc	R_PWM_STATUS,2
       A6 059E                      0- 258     		incr	R_PWM_DUTY_G,C_SaveToReg
       A7 0DA0                      0- 259     		btrsc	R_PWM_STATUS,3
       A8 069E                      0- 260     		decr	R_PWM_DUTY_G,C_SaveToReg
       A9 0E20                      0- 261     		btrsc	R_PWM_STATUS,4
       AA 059F                      0- 262     		incr	R_PWM_DUTY_B,C_SaveToReg
       AB 0EA0                      0- 263     		btrsc	R_PWM_STATUS,5
       AC 069F                      0- 264     		decr	R_PWM_DUTY_B,C_SaveToReg
                                    0-0265      		
       AD 17A4                      0- 266     		decrsz	R_PWM_COUNT,C_SaveToReg
       AE 38B8                      0- 267     		lgoto	WORK_SCAN
                                    0-0268      		
       AF 05A1                      0- 269     		incr	R_PWM_STEP,C_SaveToReg
       B0 2110                      0- 270     		movia	16
       B1 36A1                      0- 271     		cmpar	R_PWM_STEP
       B2 0D03                      0- 272     		btrsc	Pr_Status,C_Status_Z_Bit
       B3 02A1                      0- 273     		clrr	R_PWM_STEP
                                    0-0274      		
       B4 283E                      0- 275     		lcall	PWM_TIME_TABLE
       B5 00A4                      0- 276     		movar	R_PWM_COUNT
       B6 282C                      0- 277     		lcall	PWM_TABLE
       B7 00A0                      0- 278     		movar	R_PWM_STATUS
                                    0-0279      		
                                    0-0280      		
                 B8                 0- 281      WORK_SCAN:
       B8 091A                      0- 282     		btrss	R_KEY,2
       B9 38D0                      0- 283     		lgoto	TIMING_SCAN			;非间歇喷雾模式
                                    0-0284      		
       BA 17A5                      0- 285     		decrsz	R_WORK_TIME0,C_SaveToReg
       BB 38D0                      0- 286     		lgoto	TIMING_SCAN
       BC 21C8                      0- 287     		movia	200
       BD 00A5                      0- 288     		movar	R_WORK_TIME0			;10MS*200=2S
                                    0-0289      		
       BE 17A6                      0- 290     		decrsz	R_WORK_TIME1,C_SaveToReg
       BF 38D0                      0- 291     		lgoto	TIMING_SCAN
       C0 211E                      0- 292     		movia	30
       C1 00A6                      0- 293     		movar	R_WORK_TIME1			;60S
                                    0-0294      		
       C2 17A7                      0- 295     		decrsz	R_WORK_TIME2,C_SaveToReg
       C3 38D0                      0- 296     		lgoto	TIMING_SCAN
                                    0-0297      		
       C4 0D12                      0- 298     		btrsc	R_STUTAS,2
       C5 38CC                      0- 299     		lgoto	WORK_CLOSE
                 C6                 0- 300      WORK_OPEN:
       C6 1912                      0- 301     		bsr		R_STUTAS,2
       C7 2101                      0- 302     		movia	1
       C8 00A7                      0- 303     		movar	R_WORK_TIME2		;60S
       C9 2111                      0- 304     		movia	17
       CA 0093                      0- 305     		movar	R_DUTY_TAG
       CB 38D0                      0- 306     		lgoto	TIMING_SCAN
                 CC                 0- 307      WORK_CLOSE:
       CC 1D12                      0- 308     		bcr		R_STUTAS,2
       CD 210F                      0- 309     		movia	15
       CE 00A7                      0- 310     		movar	R_WORK_TIME2		;900S
       CF 0293                      0- 311     		clrr	R_DUTY_TAG
                                    0-0312      		
                                    0-0313      		
                 D0                 0- 314      TIMING_SCAN:
       D0 081A                      0- 315     		btrss	R_KEY,0
       D1 38D4                      0- 316     		lgoto	TIMING_SCAN_T
       D2 0812                      0- 317     		btrss	R_STUTAS,0
       D3 38E6                      0- 318     		lgoto	KEY_SCAN
                 D4                 0- 319      TIMING_SCAN_T:
       D4 1794                      0- 320     		decrsz	R_TIMING0,C_SaveToReg
       D5 38E6                      0- 321     		lgoto	KEY_SCAN
       D6 21FA                      0- 322     		movia	250
       D7 0094                      0- 323     		movar	R_TIMING0			;10MS*250=2.5S
                                    0-0324      		
       D8 1795                      0- 325     		decrsz	R_TIMING1,C_SaveToReg
       D9 38E6                      0- 326     		lgoto	KEY_SCAN
       DA 2190                      0- 327     		movia	144
       DB 0095                      0- 328     		movar	R_TIMING1			;2.5S*144=360S
                                    0-0329      		
       DC 1796                      0- 330     		decrsz	R_TIMING2,C_SaveToReg
       DD 38E6                      0- 331     		lgoto	KEY_SCAN
                                    0-0332      ;		movia	40
                                    0-0333      ;		movar	R_TIMING2			;360S*40=14400S
                                    0-0334      		
       DE 2101                      0- 335     		movia	1
       DF 009A                      0- 336     		movar	R_KEY
       E0 1C12                      0- 337     		bcr		R_STUTAS,0
       E1 1E12                      0- 338     		bcr		R_STUTAS,4
       E2 0293                      0- 339     		clrr	R_DUTY_TAG
       E3 0298                      0- 340     		clrr	R_SLEEP_COUNT
       E4 2132                      0- 341     		movia	00110010b
       E5 0086                      0- 342     		movar	portb
                                    0-0343      		
                                    0-0344      		
                 E6                 0- 345      KEY_SCAN:
                                    0-0346      		;--------------------------
       E6 0C06                      0- 347     		btrsc	portb,0
       E7 392A                      0- 348     		lgoto	KEY_UP
                                    0-0349      		;--------------------------
                 E8                 0- 350      KEY_DOWN:
       E8 0298                      0- 351     		clrr	R_SLEEP_COUNT
                                    0-0352      		
       E9 161B                      0- 353     		incrsz	R_KEY_TIME,C_SaveToAcc
       EA 059B                      0- 354     		incr	R_KEY_TIME,C_SaveToReg
       EB 21C8                      0- 355     		movia	200
       EC 369B                      0- 356     		cmpar	R_KEY_TIME
       ED 0903                      0- 357     		btrss	Pr_Status,C_Status_Z_Bit
       EE 3873                      0- 358     		lgoto	L_MainLoop
       EF 1992                      0- 359     		bsr		R_STUTAS,3			;10MS*200=1.5S
                                    0-0360      		
       F0 0E12                      0- 361     		btrsc	R_STUTAS,4
       F1 3924                      0- 362     		lgoto	CLOSE_LED			;定光模式下长按关闭LED
       F2 0812                      0- 363     		btrss	R_STUTAS,0
       F3 390E                      0- 364     		lgoto	OPEN_LED			;非开灯模式下打开LED
                                    0-0365      		;进入定光模式先闪一下
       F4 1A12                      0- 366     		bsr		R_STUTAS,4
       F5 029D                      0- 367     		clrr	R_PWM_DUTY_R
       F6 029E                      0- 368     		clrr	R_PWM_DUTY_G
       F7 029F                      0- 369     		clrr	R_PWM_DUTY_B
                                    0-0370      		
       F8 2150                      0- 371     		movia	80
       F9 00A8                      0- 372     		movar	R_DELAY
                 FA                 0- 373      DELAY_200MS_LOOP:
       FA 0002                      0- 374     		clrwdt
       FB 0892                      0- 375     		btrss	R_STUTAS,1
       FC 38FA                      0- 376     		lgoto	DELAY_200MS_LOOP
       FD 1C92                      0- 377     		bcr		R_STUTAS,1
       FE 17A8                      0- 378     		decrsz	R_DELAY,C_SaveToReg
       FF 38FA                      0- 379     		lgoto	DELAY_200MS_LOOP
                                    0-0380      		
                                    0-0381      		;设置为白蓝
      100 2114                      0- 382     		movia	20
      101 009D                      0- 383     		movar	R_PWM_DUTY_R
      102 009E                      0- 384     		movar	R_PWM_DUTY_G
      103 2164                      0- 385     		movia	100
      104 009F                      0- 386     		movar	R_PWM_DUTY_B
      105 081A                      0- 387     		btrss	R_KEY,0
      106 3873                      0- 388     		lgoto	L_MainLoop
                                    0-0389      		;非喷雾中LED定时4H
      107 21FA                      0- 390     		movia	250
      108 0094                      0- 391     		movar	R_TIMING0			;10MS*250=2.5S
      109 2190                      0- 392     		movia	144
      10A 0095                      0- 393     		movar	R_TIMING1			;2.5S*144=360S
      10B 2128                      0- 394     		movia	40
      10C 0096                      0- 395     		movar	R_TIMING2			;360S*40=14400S
      10D 3873                      0- 396     		lgoto	L_MainLoop
                10E                 0- 397      OPEN_LED:
      10E 2114                      0- 398     		movia	20
      10F 009D                      0- 399     		movar	R_PWM_DUTY_R
      110 009E                      0- 400     		movar	R_PWM_DUTY_G
      111 2164                      0- 401     		movia	100
      112 009F                      0- 402     		movar	R_PWM_DUTY_B
                                    0-0403      		
      113 02A0                      0- 404     		clrr	R_PWM_STATUS
      114 02A1                      0- 405     		clrr	R_PWM_STEP
      115 2105                      0- 406     		movia	5
      116 00A3                      0- 407     		movar	R_PWM_TIME
      117 2164                      0- 408     		movia	100
      118 00A4                      0- 409     		movar	R_PWM_COUNT
      119 1812                      0- 410     		bsr		R_STUTAS,0
      11A 1E12                      0- 411     		bcr		R_STUTAS,4
                                    0-0412      		
      11B 081A                      0- 413     		btrss	R_KEY,0
      11C 3873                      0- 414     		lgoto	L_MainLoop
                                    0-0415      		;非喷雾中LED定时4H
      11D 21FA                      0- 416     		movia	250
      11E 0094                      0- 417     		movar	R_TIMING0			;10MS*250=2.5S
      11F 2190                      0- 418     		movia	144
      120 0095                      0- 419     		movar	R_TIMING1			;2.5S*144=360S
      121 2128                      0- 420     		movia	40
      122 0096                      0- 421     		movar	R_TIMING2			;360S*40=14400S
      123 3873                      0- 422     		lgoto	L_MainLoop
                124                 0- 423      CLOSE_LED:
      124 1C12                      0- 424     		bcr		R_STUTAS,0
      125 1E12                      0- 425     		bcr		R_STUTAS,4
      126 2132                      0- 426     		movia	00110010b
      127 0086                      0- 427     		movar	portb
      128 0298                      0- 428     		clrr	R_SLEEP_COUNT
      129 3873                      0- 429     		lgoto	L_MainLoop
                                    0-0430      		
                                    0-0431      		
                12A                 0- 432      KEY_UP:
      12A 0D92                      0- 433     		btrsc	R_STUTAS,3
      12B 3951                      0- 434     		lgoto	CLR_KEY_TIME
                                    0-0435      		
      12C 2106                      0- 436     		movia	6
      12D 369B                      0- 437     		cmpar	R_KEY_TIME
      12E 0803                      0- 438     		btrss	Pr_Status,C_Status_C_Bit
      12F 3951                      0- 439     		lgoto	CLR_KEY_TIME
                                    0-0440      		
      130 0D1A                      0- 441     		btrsc	R_KEY,2
      131 3947                      0- 442     		lgoto	CLOSE
                                    0-0443      		
      132 1C03                      0- 444     		bcr		Pr_Status,C_Status_C_Bit
      133 149A                      0- 445     		rlr		R_KEY,C_SaveToReg
                                    0-0446      		
      134 21FA                      0- 447     		movia	250
      135 0094                      0- 448     		movar	R_TIMING0			;10MS*250=2.5S
      136 2190                      0- 449     		movia	144
      137 0095                      0- 450     		movar	R_TIMING1			;2.5S*144=360S
                                    0-0451      		
      138 2128                      0- 452     		movia	40					;360S*40=14400S
      139 0D1A                      0- 453     		btrsc	R_KEY,2
      13A 213C                      0- 454     		movia	60					;360S*60=21800S
      13B 0096                      0- 455     		movar	R_TIMING2
                                    0-0456      		
      13C 2100                      0- 457     		movia	0
      13D 0C9A                      0- 458     		btrsc	R_KEY,1
      13E 2111                      0- 459     		movia	17
      13F 0093                      0- 460     		movar	R_DUTY_TAG
                                    0-0461      		
      140 21FB                      0- 462     		movia	251
      141 00A5                      0- 463     		movar	R_WORK_TIME0		;2.51S
      142 2101                      0- 464     		movia	1
      143 00A6                      0- 465     		movar	R_WORK_TIME1
      144 00A7                      0- 466     		movar	R_WORK_TIME2
      145 1D12                      0- 467     		bcr		R_STUTAS,2
      146 3951                      0- 468     		lgoto	CLR_KEY_TIME
                147                 0- 469      CLOSE:
      147 2101                      0- 470     		movia	1
      148 009A                      0- 471     		movar	R_KEY
      149 0293                      0- 472     		clrr	R_DUTY_TAG
      14A 21FA                      0- 473     		movia	250
      14B 0094                      0- 474     		movar	R_TIMING0			;10MS*250=2.5S
      14C 2190                      0- 475     		movia	144
      14D 0095                      0- 476     		movar	R_TIMING1			;2.5S*144=360S
      14E 2128                      0- 477     		movia	40
      14F 0096                      0- 478     		movar	R_TIMING2			;360S*40=14400S
      150 0298                      0- 479     		clrr	R_SLEEP_COUNT
                151                 0- 480      CLR_KEY_TIME:
      151 1D92                      0- 481     		bcr		R_STUTAS,3
      152 029B                      0- 482     		clrr	R_KEY_TIME
      153 3873                      0- 483             lgoto   L_MainLoop
                                    0-0484              
                                    0-0485      end

NYASM 2.25 [Build 200410.00]  File=C:\Users\Administrator\Desktop\案子\加湿器4款\NVK6016\NVK6016\main.asm Date=2020/5/11 17:53:04

SYMBOL TABLE            TYPE     VALUE

__8A051D                Constant 00000001
__PIN_COUNT__           Constant 00000006
__PROCESSOR__           Constant 00800513
BODCON                  Constant 0000000C
BPHCON                  Constant 0000000C
BPLCON                  Constant 0000000B
BREATH                  Label    00000099
BWUCON                  Constant 00000009
BZ1CR                   Constant 00000005
C_ALL_INT_EN            Constant 00000080
C_BIT0                  Constant 00000001
C_BIT1                  Constant 00000002
C_BIT2                  Constant 00000004
C_BIT3                  Constant 00000008
C_BIT4                  Constant 00000010
C_BIT5                  Constant 00000020
C_BIT6                  Constant 00000040
C_BIT7                  Constant 00000080
C_BZ1_EN                Constant 00000080
C_BZ1_FSEL              Constant 0000000F
C_BZ1_PS1DIV128         Constant 00000006
C_BZ1_PS1DIV16          Constant 00000003
C_BZ1_PS1DIV2           Constant 00000000
C_BZ1_PS1DIV256         Constant 00000007
C_BZ1_PS1DIV32          Constant 00000004
C_BZ1_PS1DIV4           Constant 00000001
C_BZ1_PS1DIV64          Constant 00000005
C_BZ1_PS1DIV8           Constant 00000002
C_BZ1_TMR1B0            Constant 00000008
C_BZ1_TMR1B1            Constant 00000009
C_BZ1_TMR1B2            Constant 0000000A
C_BZ1_TMR1B3            Constant 0000000B
C_BZ1_TMR1B4            Constant 0000000C
C_BZ1_TMR1B5            Constant 0000000D
C_BZ1_TMR1B6            Constant 0000000E
C_BZ1_TMR1B7            Constant 0000000F
C_EXINT_EDGE            Constant 00000040
C_EXTINT_EN             Constant 00000040
C_FHOSC_SEL             Constant 00000001
C_FHOSC_STOP            Constant 00000002
C_FLOSC_SEL             Constant 00000000
C_HALT_MODE             Constant 00000004
C_INDIR_ADDR            Constant 000000FF
C_INT_EXT               Constant 00000004
C_INT_EXT_BIT           Constant 00000002
C_INT_PBKEY             Constant 00000002
C_INT_PBKEY_BIT         Constant 00000001
C_INT_TMR0              Constant 00000001
C_INT_TMR0_BIT          Constant 00000000
C_INT_TMR1              Constant 00000008
C_INT_TMR1_BIT          Constant 00000003
C_INT_WDT               Constant 00000040
C_INT_WDT_BIT           Constant 00000006
C_IR_38K                Constant 00000000
C_IR_57K                Constant 00000002
C_IR_EN                 Constant 00000001
C_IR_POL_SEL            Constant 00000004
C_LVR_EN                Constant 00000008
C_MODE                  Constant 0000000C
C_NORMAL_MODE           Constant 00000000
C_NUM0                  Constant 00000000
C_NUM1                  Constant 00000001
C_NUM2                  Constant 00000002
C_NUM3                  Constant 00000003
C_NUM4                  Constant 00000004
C_NUM5                  Constant 00000005
C_NUM6                  Constant 00000006
C_NUM7                  Constant 00000007
C_PB_DATA               Constant 0000003F
C_PB_INPUT              Constant 0000003F
C_PB_OD                 Constant 00000037
C_PB_OUTPUT             Constant 00000000
C_PB_PHB                Constant 00000037
C_PB_PLB                Constant 000000F0
C_PB_WAKEUP             Constant 0000003F
C_PB0_DATA              Constant 00000001
C_PB0_INPUT             Constant 00000001
C_PB0_OD                Constant 00000001
C_PB0_OUTPUT            Constant 00000000
C_PB0_PHB               Constant 00000001
C_PB0_PLB               Constant 00000010
C_PB0_WAKEUP            Constant 00000001
C_PB1_DATA              Constant 00000002
C_PB1_INPUT             Constant 00000002
C_PB1_OD                Constant 00000002
C_PB1_OUTPUT            Constant 00000000
C_PB1_PHB               Constant 00000002
C_PB1_PLB               Constant 00000020
C_PB1_WAKEUP            Constant 00000002
C_PB2_DATA              Constant 00000004
C_PB2_INPUT             Constant 00000004
C_PB2_OD                Constant 00000004
C_PB2_OUTPUT            Constant 00000000
C_PB2_PHB               Constant 00000004
C_PB2_PLB               Constant 00000040
C_PB2_WAKEUP            Constant 00000004
C_PB3_DATA              Constant 00000008
C_PB3_INPUT             Constant 00000008
C_PB3_OUTPUT            Constant 00000000
C_PB3_PLB               Constant 00000080
C_PB3_WAKEUP            Constant 00000008
C_PB4_DATA              Constant 00000010
C_PB4_INPUT             Constant 00000010
C_PB4_OD                Constant 00000010
C_PB4_OUTPUT            Constant 00000000
C_PB4_PHB               Constant 00000010
C_PB4_WAKEUP            Constant 00000010
C_PB5_DATA              Constant 00000020
C_PB5_INPUT             Constant 00000020
C_PB5_OD                Constant 00000020
C_PB5_OUTPUT            Constant 00000000
C_PB5_PHB               Constant 00000020
C_PB5_WAKEUP            Constant 00000020
C_PCHIGH_DATA           Constant 00000003
C_PCLOW_DATA            Constant 000000FF
C_PS0_DIV               Constant 00000007
C_PS0_DIV128            Constant 00000006
C_PS0_DIV16             Constant 00000003
C_PS0_DIV2              Constant 00000000
C_PS0_DIV256            Constant 00000007
C_PS0_DIV32             Constant 00000004
C_PS0_DIV4              Constant 00000001
C_PS0_DIV64             Constant 00000005
C_PS0_DIV8              Constant 00000002
C_PS0_TMR0              Constant 00000000
C_PS0_WDT               Constant 00000008
C_PS1_DIS               Constant 00000008
C_PS1_DIV               Constant 00000007
C_PS1_DIV128            Constant 00000006
C_PS1_DIV16             Constant 00000003
C_PS1_DIV2              Constant 00000000
C_PS1_DIV256            Constant 00000007
C_PS1_DIV32             Constant 00000004
C_PS1_DIV4              Constant 00000001
C_PS1_DIV64             Constant 00000005
C_PS1_DIV8              Constant 00000002
C_PS1_EN                Constant 00000000
C_PWM1_ACTIVE           Constant 00000040
C_PWM1_ACTIVE_HI        Constant 00000000
C_PWM1_ACTIVE_LO        Constant 00000040
C_PWM1_DUTY             Constant 000000FF
C_PWM1_EN               Constant 00000080
C_SAVETOACC             Constant 00000000
C_SAVETOREG             Constant 00000001
C_SFR_BANK              Constant 000000C0
C_SFR_BANK0             Constant 00000000
C_SFR_BANK1             Constant 00000040
C_SFR_BANK2             Constant 00000080
C_SFR_BANK3             Constant 000000C0
C_SFR_RAM_ADDR          Constant 0000003F
C_STANDBY_MODE          Constant 00000008
C_STATUS_C              Constant 00000001
C_STATUS_C_BIT          Constant 00000000
C_STATUS_HALFC          Constant 00000002
C_STATUS_HALFC_BIT      Constant 00000001
C_STATUS_SLP            Constant 00000008
C_STATUS_SLP_BIT        Constant 00000003
C_STATUS_WDT            Constant 00000010
C_STATUS_WDT_BIT        Constant 00000004
C_STATUS_Z              Constant 00000004
C_STATUS_Z_BIT          Constant 00000002
C_TBHIGH_ADDR           Constant 00000003
C_TBHIGH_DATA           Constant 0000003F
C_TMR0_CLK              Constant 00000020
C_TMR0_DATA             Constant 000000FF
C_TMR0_DIS              Constant 00000000
C_TMR0_EN               Constant 00000001
C_TMR0_EXTCLK_EDGE      Constant 00000010
C_TMR0_LOWCLK           Constant 00000080
C_TMR1_CLKSRC_EXT       Constant 00000020
C_TMR1_CLKSRC_INST      Constant 00000000
C_TMR1_DATA             Constant 000000FF
C_TMR1_DIS              Constant 00000000
C_TMR1_EN               Constant 00000001
C_TMR1_EXTCLK_EDGE      Constant 00000010
C_TMR1_EXTFALLING       Constant 00000010
C_TMR1_EXTRISING        Constant 00000000
C_TMR1_ONESHOT          Constant 00000004
C_TMR1_RELOAD           Constant 00000002
C_WDT_EN                Constant 00000080
CLOSE                   Label    00000147
CLOSE_LED               Label    00000124
CLR_KEY_TIME            Label    00000151
DELAY_200MS_LOOP        Label    000000FA
FSR                     Constant 00000004
INDF                    Constant 00000000
INTE                    Constant 0000000E
INTF                    Constant 0000000F
IOSTB                   Constant 00000006
IRCR                    Constant 00000006
KEY_DOWN                Label    000000E8
KEY_SCAN                Label    000000E6
KEY_UP                  Label    0000012A
L_BLUE                  Label    0000001D
L_GREEN                 Label    00000018
L_MAINLOOP              Label    00000073
L_PWM_E                 Label    00000022
L_RED                   Label    00000012
L_RETMAIN               Label    00000027
OPEN_LED                Label    0000010E
OSCCR                   Constant 0000000F
PCHBUF                  Constant 0000000A
PCL                     Constant 00000002
PCON                    Constant 00000008
PCON1                   Constant 0000000F
PF_PB_DIR_CTRL          Constant 00000006
PF_PB_OD_CTRL           Constant 0000000C
PF_PS0_CNT              Constant 0000000A
PF_PWR_CTRL1            Constant 0000000F
PORTB                   Constant 00000006
PR_FILE_SEL             Constant 00000004
PR_INDIR_ADDR           Constant 00000000
PR_INT_CTRL             Constant 0000000E
PR_INT_FLAG             Constant 0000000F
PR_PB_DATA              Constant 00000006
PR_PB_PH_CTRL           Constant 0000000C
PR_PB_PL_CTRL           Constant 0000000B
PR_PB_WAKEUP_CTRL       Constant 00000009
PR_PCHIGH_DATA          Constant 0000000A
PR_PCLOW_DATA           Constant 00000002
PR_PWR_CTRL             Constant 00000008
PR_STATUS               Constant 00000003
PR_TMR0_DATA            Constant 00000001
PS_BZ1_CTRL             Constant 00000005
PS_IR_CTRL              Constant 00000006
PS_PS1_CNT              Constant 00000004
PS_PWM1_DUTY            Constant 00000003
PS_SYS_CTRL             Constant 0000000F
PS_TBHIGH_ADDR          Constant 00000007
PS_TBHIGH_DATA          Constant 00000008
PS_TMR1_CTRL1           Constant 00000001
PS_TMR1_CTRL2           Constant 00000002
PS_TMR1_DATA            Constant 00000000
PS0CV                   Constant 0000000A
PS1CV                   Constant 00000004
PWM_CHANGE              Label    0000008B
PWM_TABLE               Label    0000002C
PWM_TIME_TABLE          Label    0000003E
PWM1DUTY                Constant 00000003
R_ACCBUF                Constant 00000010
R_DELAY                 Constant 00000028
R_DUTY_TAG              Constant 00000013
R_KEY                   Constant 0000001A
R_KEY_TIME              Constant 0000001B
R_LOOP_TIME             Constant 00000022
R_PWM_COUNT             Constant 00000024
R_PWM_CT                Constant 00000019
R_PWM_DUTY              Constant 00000017
R_PWM_DUTY_B            Constant 0000001F
R_PWM_DUTY_G            Constant 0000001E
R_PWM_DUTY_R            Constant 0000001D
R_PWM_STATUS            Constant 00000020
R_PWM_STEP              Constant 00000021
R_PWM_TIME              Constant 00000023
R_PWM_TMR               Constant 0000001C
R_SLEEP_COUNT           Constant 00000018
R_STATUSBUF             Constant 00000011
R_STUTAS                Constant 00000012
R_TIMING0               Constant 00000014
R_TIMING1               Constant 00000015
R_TIMING2               Constant 00000016
R_WORK_TIME0            Constant 00000025
R_WORK_TIME1            Constant 00000026
R_WORK_TIME2            Constant 00000027
SLEEP_SCAN              Label    00000074
STATUS                  Constant 00000003
T1CR1                   Constant 00000001
T1CR2                   Constant 00000002
TBHD                    Constant 00000008
TBHP                    Constant 00000007
TIMING_SCAN             Label    000000D0
TIMING_SCAN_T           Label    000000D4
TMR0                    Constant 00000001
TMR1                    Constant 00000000
V_INT                   Label    00000008
V_INT_TIME0             Label    0000000C
V_MAIN                  Label    00000050
WORK_CLOSE              Label    000000CC
WORK_OPEN               Label    000000C6
WORK_SCAN               Label    000000B8


SOURCE FILE TABLE
000 C:\Users\Administrator\Desktop\案子\加湿器4款\NVK6016\NVK6016\main.asm
001 C:\Users\Administrator\Desktop\案子\加湿器4款\NVK6016\NVK6016\NY8A051D.H

PROCESSOR    = NY8A051D (8 bits) 
PROGRAM ROM  = 0x00000000 - 0x000003FF
DATA ROM     = 0x00000000 - 0x000003FF
SRAM / SFR   = 0x00000000 - 0x00000000
